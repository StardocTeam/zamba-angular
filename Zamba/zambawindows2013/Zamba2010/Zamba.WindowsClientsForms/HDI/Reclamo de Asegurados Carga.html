<html>
	<head>
		<title>Reclamo de Asegurado - Ingreso de Denuncia</title>
		<!--
		ID Form:
		Fecha de Creacion:18-10-2012
		Autor de Creacion:GustavoR
		Modificacion:Tomando como base el Form Reclamo de Asegurados Carga se quitaron los siguientes campos:
		Fecha de Reclamo, Fecha de Denuncia, Monto Reclamo, ID Componente y Valor Franquicia. 
		Se Agrego el campo: Rama
		Fecha de ultima Modificacion:18-10-2012
		Autor de ultima Modificacion:GustavoR
		-->			
<link rel="stylesheet" href="Union_styles.css" type="text/css" />
    <link rel="stylesheet" href="Union_styles_table.css" type="text/css" />
    <link rel="stylesheet" href="jq_datepicker.css" type="text/css" />	
	<link rel="stylesheet" type="text/css" href="images/UI_blue/DroplistFilter.css" />
    <link rel="stylesheet" href="tabber.css" type="text/css" media="screen"/>
	<script type="text/javascript" src="Scripts/jquery-1.11.1.min.js"></script>	
	<script type="text/javascript" src="jquery-1.3.2.min.js" language="JavaScript"></script>
	<script type="text/javascript" src="jq_datepicker.js" language="JavaScript"></script>
    <script type="text/javascript" src="DroplistFilter.js"></script>
    <script type="text/javascript" src="ChequearIndicePorValorErroneo.js"></script>
    <script type="text/javascript" src="Scripts/json2.js"></script>	
	<script type="text/javascript" src="Scripts/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="Scripts/Zamba.js"></script>
    <script type="text/javascript" src="Scripts/Zamba.Tables.js"></script>
	<script type="text/javascript" src="scripts/tabber.js"></script>              <script type="text/javascript" src="scripts/jsontable.js"></script>

		
	

		<script type="text/javascript" language="JavaScript">	
       	    function SetRuleId(sender)
       		{
				document.getElementById("hdnRuleId").name = sender.id;               
            	frmMain.submit();
			}

			function zamba_save_onclick()
			{				
				document.getElementById('zamba_index_26410').value = document.getElementById('_26410').value.replace(":", "");
				document.getElementById("hdnRuleId").name = "zamba_rule_save";
			}
				 
			function makeCalendar(id)
			{
				$(function() 
				{
					$('#' + id).datepicker({
						changeMonth: true,
						changeYear: true,
						showOn: 'button', 
						buttonText: 'Abrir calendario',
						buttonImage: 'images/calendar.png', 
						buttonImageOnly: true,
						duration: ""
					});
				});
			}
			
			$(document).ready(function()
			{	
				var currentTime1 = new Date();
				makeCalendar('zamba_index_26201');
				
				var fecha_actual = currentTime1.getDate() + "/" + (currentTime1.getMonth() + 1) + "/" + currentTime1.getFullYear();
				document.getElementById("zamba_index_26427").value = fecha_actual;
				makeCalendar('zamba_index_26427');
				makeCalendar('zamba_ASOC_26031_index_26280');
				makeCalendar('zamba_ASOC_26031_index_26281');
				setTimeout("formatTime('_26410')", 100);	
				addDroplistFilter("zamba_index_26478");				
	        });					

			
			function loadTime(id)
			{
				document.getElementById(id).value = document.getElementById("zamba_index" + id).value.replace(":", "");
			}
			
			function formatTime(id)
			{
				var ctrl = $('#' + id);						
				var time = ctrl.val().replace(":", "");
				
				var h = time.substring(0, time.length - 2);					
				var m = time.substring(time.length - 2, time.length);
				
				if (h != "" || m != "")
					ctrl.val(h + ":" + m);
					
				if (h > 23 || m > 59)
					ctrl.addClass("error");
				else
					ctrl.removeClass("error");
			}	
			
			function dateToString(date)
			{
				var dia = date.split("/")[0];
				var mes = date.split("/")[1];
				var ano = date.split("/")[2];

				dia = format(dia);
				mes = format(mes);
				
				return ano + mes + dia;			
			}
			
			function format(txt)
			{
				if(txt.length == 1) txt = "0" + txt;
				
				return txt;
			}
				
			
			function validaDatos()
			{
				if ($('#zamba_index_26174').val() == '')
				{
					alert("Ingrese Nro de Poliza");
					$('#zamba_index_26174').focus();
					return false;
				}	
				if ($('#zamba_index_26294').val() == null)
				{
					alert("Ingrese Rama");
					$('#zamba_index_26294').focus();
					return false;
				}
				if ($('#zamba_index_26478').val() == null)
				{
					alert("Ingrese Responsable");
					$('#zamba_index_26478').focus();
					return false;
				}						
				if ($('#zamba_index_26201').val() == '')
				{
					alert("Ingrese la fecha del siniestro");
					$('#zamba_index_26201').focus();
					return false;
				}
				if ($('#_26410').val() == '')
				{
					alert("Ingrese la hora del siniestro");
					$('#_26410').focus();
					return false;
				}
				if ($('#zamba_index_26174').val() == '' && $('#zamba_index_26400').val() == '' && $('#zamba_index_26248').val() == '' && $('#zamba_index_26296').val() == '')
				{
					alert("Debe ingresar al menos uno de los siguientes datos:\n\n- Nro de poliza\n- Apellido\n- Nro de documento\n- CUIT");
					return false;
				}
							
				var currentTime = new Date();
				var date_user = dateToString(document.getElementById('zamba_index_26201').value);	
				var date_policy_registration = dateToString(document.getElementById('zamba_index_26427').value);
				var date_actual = dateToString(currentTime.getDate() + "/" + (currentTime.getMonth() + 1) + "/" + currentTime.getFullYear());

				if(parseInt(date_user) > parseInt(date_actual))
				{
					alert("La fecha de Siniestro debe ser menor o igual a la fecha de hoy.");
					$('#zamba_index_26201').focus();
					return false;
				}	
				
				if ($('#zamba_index_26427').val() == '')
				{
					alert("Ingrese la Fecha de Notificacion");
					$('#_26427').focus();
					return false;
				}
				
				if (parseInt(date_policy_registration) < parseInt(date_user))
				{
					alert("La Fecha de Notificacion Siniestro debe ser mayor o igual a la fecha del siniestro.");
					$('#_26427').focus();
					return false;
				}
				
				
//				var date_user1 = dateToString(document.getElementById('zamba_index_26427').value);	
//								
//				if(parseInt(date_user1) > parseInt(date_actual))
//				{
//					alert("La fecha de Notificacion debe ser menor o igual a la fecha de hoy.");
//					$('#zamba_index_26427').focus();
//					return false;
//				}
							
				
				
				if($('#zamba_index_26478').val() == '0 - Sin Definir')
				{
					alert("Debe seleccionar un responsable.");
					$('#zamba_index_26478').focus();
					return false;
				}
	            if($('#_26410').attr('class') == 'error')
                {
   		            alert("La hora del siniestro es invalida");
        	        $('#_26410').focus();
                return false;
                } 
				return true;		
			}

			document.write('<style type="text/css">.tabber{display:none;}<\/style>');			
		</script>
	    <style type="text/css">
            .style1
            {
                width: 20px;
            }
            .style2
            {
                width: 173px;
            }
            .style3
            {
                width: 767px;
            }
            .style5
            {
                width: 135px;
            }
            </style>
	</head>	
	<body>
		<div id="container">
			<form name="frmMain" method="post" onsubmit="return validaDatos()">
				<input id="hdnRuleId" type="hidden" />
				
				<div name="logostardoc" id="logostardoc">
				</div>

				<div name="design" id="design">
					<strong>Reclamo de Asegurado - Ingreso de Denuncia</strong>
				</div>
				<br />

					

				<table cellpadding="6">
					<tr>
						<td><label>Id: </label></td>
						<td><input type="text" id="zamba_index_26260" name="zamba_index_26260" size="10" readonly="readonly" class="readonly"/></td>
						<td><label>Id Operaci&oacute;n Siniestro: </label></td>
						<td><input type="text" id="zamba_index_26261" name="zamba_index_26261" size="10" readonly="readonly" class="readonly"/></td>
						<td><label>Nro de Siniestro:</label></td>
						<td class="style5"><input type="text" name="zamba_index_26247" size="12" readonly="readonly" class="readonly"/></td>
					</tr>	
				</table>
			
			

				<div class="tabber">
					<div class="tabbertab">
						<h2>Informaci&oacute;n</h2>
						<p>
							<table cellpadding="4">
								<tr>
									<td><label>Nro Reclamo:</label></td>
									<td class="style1"><input type="text" name="zamba_index_26178" size="10" readonly="readonly" class="readonly"/></td>
									<td><label>Nro P&oacute;liza:</label></td>
									<td class="style10"><input type="text" name="zamba_index_26174" id="zamba_index_26174"  size="10" /></td>
								</tr>
								<tr>
									<td><label>Fecha Siniestro: </label></td>
									<td><input id="zamba_index_26201" name="zamba_index_26201" style="width:170px;" /></td>
									<td><label>Hora Siniestro: </label></td>
									<td class="style2" colspan="3">
										<input id="_26410" name="_26410" style="width:198px;" maxlength="5" 
                                            onkeyup="formatTime('_26410');" class="solonums"/>
										<input type="text"  id="zamba_index_26410" name="zamba_index_26410" style="display:none"/>
									</td>
								</tr>	
								<tr>	
									<td><label>Rama: </label></td>
									<td class="style1">
                                        <select name="zamba_index_26294" id="zamba_index_26294" 
                                            style="width:255px;"></select></td>
									<td><label>Fecha Notificaci&oacute;n Siniestro: </label></td>
									<td class="style2" colspan="3"><input id="zamba_index_26427" name="zamba_index_26427" style="width:157px;" /></td>									
								</tr>
								<tr>	
									<td><label>Responsable: </label></td>
									<td><select name="zamba_index_26478" id="zamba_index_26478" style="width:255px;"></select></td>
									<td><label>Estado Reclamo: </label></td>
									<td colspan="3"><input id="zamba_index_26313" name="zamba_index_26313" style="width:198px;" readonly="readonly" class="readonly"/></td>
								</tr>		
                                <tr>	
									<td><label>Siniestro importante: </label></td>
									<td class="style1">
                                        <select name="zamba_index_195549" id="zamba_index_195549" 
                                            style="width:100px;"></select></td>
													
								</tr>								
							
								<tr>
									<td style="padding:10px 0 10px 0" colspan="4">
									<hr/>
									</td>
								</tr>
							</table>
							<table cellpadding="4">
															<tr>
									<td class="style3"><label>Observaciones:</label></td></tr>
								<tr>
									<td colspan="4" class="style3"><textarea cols=124 rows=10 id="zamba_index_64" 
                                            name="zamba_index_64"></textarea></td> 
								</tr>
						</table>				
					</p>
				</div>				
				<br />

					<div name="logocliente" id="logocliente">	
					<img src="images/logocliente.jpg"  height="50" width="70">
				</div>
				
				<div name="logozamba" id="logozamba">
					<img src="images/pwbyzamba.jpg">
				</div>	
				
				<div name="alignleft" id="alignleft">
					<input type="submit" name="zamba_save" id="Submit1" value="GUARDAR" onclick="return zamba_save_onclick()"/> 
				</div>				
				
		    </form>						
		</div>
	</body>
</html>