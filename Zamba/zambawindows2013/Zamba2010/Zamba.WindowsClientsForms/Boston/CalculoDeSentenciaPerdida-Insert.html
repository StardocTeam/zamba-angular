<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="boston_styles.css" type="text/css" />
	<link rel="stylesheet" href="boston_styles_table.css" type="text/css" />
	<script src="boston.js" type="text/javascript" language="JavaScript"></script>
    <script type="text/javascript" language="JavaScript">
	$(document).ready(function(){
		CargarFechasyBotones();
		$(".moneda").each(
			function(){
				$(this).keyup(function (e){
					//Valida que sean numeros y algunos caracteres especiales
					if(e.which!=8 || e.which!=0 || e.which!=46 || ((e.which>47 && e.which<58) || (e.which>95 && e.which<106))){
						SumarCampos();
					}
				})
			}
		);
		$('#zamba_save').click(zamba_save_onclick);
	});	
	function zamba_save_onclick(evt) {
		if (document.getElementById("zamba_index_2704").value == ""){
			alert("Por favor, complete la Fecha de Notificacion.");
			document.getElementById("hdnRuleId").name = "zamba_rule_cancel";
			CloseLoading();
			evt.preventDefault(); 
		} else if (document.getElementById("zamba_index_2797").value == ""){
			if (document.getElementById("zamba_index_2798").value == ""){
				alert("Por favor, complete el campo Honorarios Actora.");
				document.getElementById("hdnRuleId").name = "zamba_rule_cancel";
				CloseLoading();
				evt.preventDefault(); 				
			} else if (document.getElementById("zamba_index_2799").value == ""){
				alert("Por favor, complete el campo Honorarios Boston.");
				document.getElementById("hdnRuleId").name = "zamba_rule_cancel";
				CloseLoading();
				evt.preventDefault(); 	
			} else if (document.getElementById("zamba_index_2800").value == ""){
				alert("Por favor, complete el campo Honorarios Peritos.");
				document.getElementById("hdnRuleId").name = "zamba_rule_cancel";
				CloseLoading();
				evt.preventDefault(); 	
			} else if (document.getElementById("zamba_index_2801").value == ""){
				alert("Por favor, complete el campo Honorarios Mediador.");
				document.getElementById("hdnRuleId").name = "zamba_rule_cancel";
				CloseLoading();
				evt.preventDefault(); 	
			} else {
				document.getElementById("hdnRuleId").name = "zamba_rule_save";
			}
		} else {
			document.getElementById("hdnRuleId").name = "zamba_rule_save";
		}
	}
	function SumarCampos() {
		//Obtiene cada valor y lo convierte a decimal
		var sum = parseFloat($("#zamba_index_2789").val().replace('', '0'));
		sum += parseFloat($("#zamba_index_2790").val().replace('', '0'));
		sum += parseFloat($("#zamba_index_2791").val().replace('', '0'));
		sum += parseFloat($("#zamba_index_2792").val().replace('', '0'));
		sum += parseFloat($("#zamba_index_2745").val().replace('', '0'));
		sum += parseFloat($("#zamba_index_2793").val().replace('', '0'));
		sum += parseFloat($("#zamba_index_2798").val().replace('', '0'));
		sum += parseFloat($("#zamba_index_2799").val().replace('', '0'));
		sum += parseFloat($("#zamba_index_2800").val().replace('', '0'));
		sum += parseFloat($("#zamba_index_2801").val().replace('', '0'));
		sum += parseFloat($("#zamba_index_2802").val().replace('', '0'));

		//Suma los valores obtenidos y lo asigna al indice Total
		$("#zamba_index_2719").val(Redondear(sum));
	}
	function ExecuteSI() {
		//Se borra el atributo Honorarios s/regular y se habilitan el resto de los honorarios
		$('#zamba_index_2797').val('');
		$('#zamba_index_2798').removeAttr("disabled");
		$('#zamba_index_2799').removeAttr("disabled");
		$('#zamba_index_2800').removeAttr("disabled");
		$('#zamba_index_2801').removeAttr("disabled");
		
		//Se realiza la sumatoria de los campos actuales
		SumarCampos();
	}
	function ExecuteNO() {
		//Se blanquean los otros honorarios para no ser tomados en cuenta en la sumatoria
		$('#zamba_index_2798').val('');
		$('#zamba_index_2799').val('');
		$('#zamba_index_2800').val('');
		$('#zamba_index_2801').val('');
		$('#zamba_index_2798').attr('disabled', 'disabled');
		$('#zamba_index_2799').attr('disabled', 'disabled');
		$('#zamba_index_2800').attr('disabled', 'disabled');
		$('#zamba_index_2801').attr('disabled', 'disabled');
		
		//Se realiza la sumatoria de los campos actuales
		SumarCampos();
		
		//Se obtiene el 20%, se guarda el resultado en el campo Honorarios 
		//s/regular y se hace la suma del total mas el 20%.
		var total = parseFloat($("#zamba_index_2719").val());
		var veintePorciento = total * 0.2;
		$("#zamba_index_2797").val(Redondear(veintePorciento));
		$("#zamba_index_2719").val(total + veintePorciento)
	}
	function CargarFechasyBotones(){
		$(function(){
			CargarFechaIndice('zamba_index_2704');
			CargarFechaIndice('zamba_index_2796');
			//CargarFechaIndice('zamba_index_2829');
		});			
	}
	</script>
</head>
<body>
    <form name="frmMain" action="CalculoDeSentenciaPerdida-Insert.html">
    <input id="hdnRuleId" type="hidden" />
	<input id="hdnAsocId" type="hidden" />
	<center>
	<div id="design"  style="width: 90%;">
        Calculo de Sentencia Perdida
    </div>
	<br/>
    <table id="tblRubro" class="attributes_table">
		<caption>
			Rubro
		</caption>
        <tr>
			<td><label>Valor Vida $</label>
			<td><input id="zamba_index_2789" name="zamba_index_2789" class="w175px moneda">
			<td class="separador">
			<td><label>Daño Fisico $</label>
			<td><input id="zamba_index_2790" name="zamba_index_2790" class="w175px moneda">
        </tr>
        <tr>
			<td><label>Daño Moral $</label>
			<td><input id="zamba_index_2791" name="zamba_index_2791" class="w175px moneda">
			<td class="separador">
			<td><label>Daño Material $</label>
			<td><input id="zamba_index_2792" name="zamba_index_2792" class="w175px moneda">
        </tr>
        <tr>
			<td><label>Otros $</label>
			<td><input id="zamba_index_2745" name="zamba_index_2745" class="w175px moneda">
			<td class="separador">
			<td><label>Intereses $</label>
			<td><input id="zamba_index_2793" name="zamba_index_2793" class="w175px moneda">
        </tr>
	<tr>
			<td><label>Fecha de Calculo</label>
			<td><input id="zamba_index_2796" name="zamba_index_2796" class="w175px" >
			<td class="separador">
			<td><label>Fecha de Notificacion</label>
			<td><input id="zamba_index_2704" name="zamba_index_2704" class="w175px" >
        </tr>
	<tr>
			<td><label>Tipo de Tasa</label>
			<td><select id="zamba_index_2795" name="zamba_index_2795" class="w175px"></select>
			<td class="separador">
			<td>
			<td>
        </tr>
	</table>
	<br/><br/>
    <table id="tblHonorarios" class="attributes_table">
		<caption>
			Honorarios &nbsp;&nbsp;&nbsp;
			<button id="btnSI" name="btnSI" onclick="ExecuteSI();" >SI</button>
			&nbsp;&nbsp;&nbsp;
			<button id="btnNO" name="btnNO" onclick="ExecuteNO();" >NO</button>
		</caption>
        <tr>
			<td><label>Honorarios s/regular $</label>
			<td><input id="zamba_index_2797" name="zamba_index_2797" class="w175px" readonly="readonly">
			<td class="separador">
			<td>&nbsp;
			<td>&nbsp;
        </tr>
	<tr>
			<td>&nbsp;<td>&nbsp;<td>&nbsp;<td>&nbsp;<td>&nbsp;
        </tr>
        <tr>
			<td><label>Honorarios Actora $</label>
			<td><input id="zamba_index_2798" name="zamba_index_2798" class="w175px moneda">
			<td class="separador">
			<td><label>Honorarios Boston $</label>
			<td><input id="zamba_index_2799" name="zamba_index_2799" class="w175px moneda">
        </tr>
        <tr>
			<td><label>Honorarios Peritos $</label>
			<td><input id="zamba_index_2800" name="zamba_index_2800" class="w175px moneda">
			<td class="separador">
			<td><label>Honorarios Mediador $</label>
			<td><input id="zamba_index_2801" name="zamba_index_2801" class="w175px moneda">
        </tr>
	<tr>
			<td>&nbsp;<td>&nbsp;<td>&nbsp;<td>&nbsp;<td>&nbsp;
        </tr>
	<tr>
			<td><label>Fecha de Sentencia</label>
			<td><input id="zamba_index_2829" name="zamba_index_2829" class="w175px" readonly="readonly">
			<td class="separador">
			<td><label>Es Firme</label>
			<td><select id="zamba_index_2830" name="zamba_index_2830" style="width:100px;"></select>
        </tr>
	<tr>
			<td><label>Tasa y Gastos $</label>
			<td><input id="zamba_index_2802" name="zamba_index_2802" class="w175px moneda">
			<td class="separador">
			<td><label><b>Total de Sentencia $</b></label>
			<td><input id="zamba_index_2719" name="zamba_index_2719" class="w175px" readonly="readonly">
        </tr>
	</table>
	<br/><br/>

<div style="text-align: center">
<input type="submit" class="submit" name="zamba_save" id="zamba_save" value="GUARDAR" onclick="return zamba_save_onclick();"/>
<input type="submit" class="submit" name="zamba_cancel" id="zamba_cancel" value="CANCELAR" />
</div>
	</center>
    </form>
</body>
</html>
