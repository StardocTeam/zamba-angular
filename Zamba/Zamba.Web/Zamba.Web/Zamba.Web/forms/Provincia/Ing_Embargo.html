<!DOCTYPE HTML>
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />   
    <script src="scripts/Zamba.js?v=169" type="text/javascript" language="JavaScript"></script>
    <script src="jq_datepicker.js" type="text/javascript" language="JavaScript"></script>
    <script src="boston.js" type="text/javascript" language="JavaScript"></script>
    <script type="text/javascript" language="JavaScript">

        function zamba_save_onclick(sender) {
            setNumericos();
            if (document.getElementById("zamba_index_80").value.trim() == "") {
                alert("La Fecha de Embargo es un dato obligatorio.");
                
                document.getElementById("hdnRuleId").name = sender.id;
            } else if (document.getElementById("zamba_index_82").value.trim() == "") {
                alert("El Importe de Embargo es un dato obligatorio.");
               
                document.getElementById("hdnRuleId").name = sender.id;
                
            } else if (ValidarImporteEmbargo() == false) {
                alert("No coinciden la sumatoria de los montos con el importe Embargo");
               
                document.getElementById("hdnRuleId").name = sender.id;
            } else if (validarForm() == 0 || validarForm() == null) {
                alert("Faltan cargar valores.");
                //document.getElementById("hdnRuleId").name = "zamba_rule_cancel";
                document.getElementById("hdnRuleId").name = sender.id;
            } else {
                
                alert("Se guardo exitosamente.");
                document.getElementById("hdnRuleId").name = sender.id;
                frmMain.submit();
            }
        }
        $(document).ready(function () {
            $(".solonums").each(function () {
                $(this).keypress(function (e) {
                    return IntegerCheck(e);
                })
            });
        });

       
        function ValidarImporteEmbargo() {
            var success = false;
            
            var importeEmbargo = parseFloat($('#zamba_index_82').val());
           
            var montoTotal = parseFloat($('#zamba_index_87').val()) +
                parseFloat($('#zamba_index_84').val()) +
                parseFloat($('#zamba_index_85').val()) +
                parseFloat($('#zamba_index_88').val()) +
                parseFloat($('#zamba_index_89').val());
            if (importeEmbargo == montoTotal) {
                success = true;
            }
            return success;
        }

        function validarForm() {
            var montoTotal = parseFloat($('#zamba_index_87').val()) +
                parseFloat($('#zamba_index_84').val()) +
                parseFloat($('#zamba_index_85').val()) +
                parseFloat($('#zamba_index_88').val()) +
                parseFloat($('#zamba_index_89').val());
            return montoTotal;
        }

        function setNumericos() {
            if ($('#zamba_index_82').val() == "" || $('#zamba_index_82').val() == null) {
                $('#zamba_index_82').val(0.00);
            }
            if ($('#zamba_index_83').val() == "" || $('#zamba_index_83').val() == null) {
                $('#zamba_index_83').val(0.00);
            }
            if ($('#zamba_index_87').val() == "" || $('#zamba_index_87').val() == null) {
                $('#zamba_index_87').val(0.00);
            }
            if ($('#zamba_index_84').val() == "" || $('#zamba_index_84').val() == null) {
                $('#zamba_index_84').val(0.00);
            }
            if ($('#zamba_index_85').val() == "" || $('#zamba_index_85').val() == null) {
                $('#zamba_index_85').val(0.00);
            }
            if ($('#zamba_index_88').val() == "" || $('#zamba_index_88').val() == null) {
                $('#zamba_index_88').val(0.00);
            }
            if ($('#zamba_index_89').val() == "" || $('#zamba_index_89').val() == null) {
                $('#zamba_index_89').val(0.00);
            }
        }

        function FuncOnload() {
            $('#zamba_index_80').datepicker({
                changeMonth: true,
                changeYear: true,
                showOn: 'button',
                buttonText: 'Abrir calendario',
                buttonImage: 'calendar.png',
                buttonImageOnly: true,
                yearRange: '-100:+0',
                duration: ""
            });

            /*Importe de Embargo, importe neto embargo*/
            $('#zamba_index_82').on('keyup', function () {
                this.value = (this.value + '').replace(/[^0-9.]/g, '');
            });
            $('#zamba_index_83').on('keyup', function () {
                this.value = (this.value + '').replace(/[^0-9.]/g, '');
            });

            /*Reservar, Dar en Pago, A Recuperar*/
            $('#zamba_index_87').on('keyup', function () {
                this.value = (this.value + '').replace(/[^0-9.]/g, '');
            });
            $('#zamba_index_84').on('keyup', function () {
                this.value = (this.value + '').replace(/[^0-9.]/g, '');
            });
            $('#zamba_index_85').on('keyup', function () {
                this.value = (this.value + '').replace(/[^0-9.]/g, '');
            });

            /*Pagado, Recuperado*/
            $('#zamba_index_88').on('keyup', function () {
                this.value = (this.value + '').replace(/[^0-9.]/g, '');
            });
            $('#zamba_index_89').on('keyup', function () {
                this.value = (this.value + '').replace(/[^0-9.]/g, '');
            });
            setNumericos();
        }
        window.onload = function () {
            setTimeout(function () { FuncOnload(); }, 100);
        };
    </script>
</head>
<body>
    <div class="container-fluid">
        <form name="frmMain" action="Embargo.html">
            <h4 class="text-center" id="header" width="90%">
                Embargo
            </h4>
            <input id="hdnRuleId" type="hidden" />
            <center>
                <div id="tblDemandado" class="attributes_table">
                    <div class="form-group row">
                        <div class="col-md-6 col-sm-6">
                            <div class="input-group">
                                <span class="input-group-addon">Fecha de Embargo:</span>
                                <input class="form-control input-sm" id="zamba_index_80" name="zamba_index_80" />
                            </div>
                        </div>

                        <div class="col-md-6 col-sm-6">
                            <div class="input-group">
                                <span class="input-group-addon">Banco:</span>
                                <select class="form-control input-sm" id="zamba_index_86" name="zamba_index_86"></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-md-6 col-sm-6">
                            <div class="input-group">
                                <span class="input-group-addon">Nro Comprobante:</span>
                                <input class="form-control input-sm" id="zamba_index_81" name="zamba_index_81" class="solonums w150px" />
                            </div>
                        </div>

                        <div class="col-md-6 col-sm-6">
                            <div class="input-group">
                                <span class="input-group-addon">Importe Embargo:</span>
                                <input class="form-control input-sm" id="zamba_index_82" name="zamba_index_82" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-md-6 col-sm-6">
                            <div class="input-group">
                                <span class="input-group-addon">Importe Neto Embargo:</span>
                                <input class="form-control input-sm" id="zamba_index_83" name="zamba_index_83" maxlength="200">
                            </div>
                        </div>

                        <div class="col-md-6 col-sm-6">
                            <div class="input-group">
                                <span class="input-group-addon">Observaciones Embargo:</span>
                                <input class="form-control input-sm" id="zamba_index_93" name="zamba_index_93" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-md-6 col-sm-6">
                            <div class="input-group">
                                <span class="input-group-addon">Reservar:</span>
                                <input class="form-control input-sm" id="zamba_index_87" name="zamba_index_87" />
                            </div>
                        </div>

                        <div class="col-md-6 col-sm-6">
                            <div class="input-group">
                                <span class="input-group-addon">Dar en Pago:</span>
                                <input class="form-control input-sm" id="zamba_index_84" name="zamba_index_84" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-md-6 col-sm-6">
                            <div class="input-group">
                                <span class="input-group-addon">A recuperar:</span>
                                <input class="form-control input-sm" id="zamba_index_85" name="zamba_index_85" />
                            </div>
                        </div>

                        <div class="col-md-6 col-sm-6">
                            <div class="input-group">
                                <span class="input-group-addon">Pagado:</span>
                                <input class="form-control input-sm" id="zamba_index_88" name="zamba_index_88" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-md-6 col-md-offset-3  col-sm-6 col-sm-offset-3 ">
                            <div class="input-group">
                                <span class="input-group-addon">Recuperado:</span>
                                <input class="form-control input-sm" id="zamba_index_89" name="zamba_index_89" />
                            </div>
                        </div>
                    </div>
                </div>

                <div class="input-group-btn">                   
                    <div><input class="btn  btn-primary" id="zamba_save" name="zamba_save" type="submit" value="Guardar" onclick="return zamba_save_onclick(this)" /></div>
                </div>
            </center>
        </form>
    </div>
    



</body>
</html>
