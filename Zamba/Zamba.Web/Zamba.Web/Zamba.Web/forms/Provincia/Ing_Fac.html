<!DOCTYPE html>
<html>
<!--Autor:Stardoc by GMR-->
<!--Fecha Creacion:12/03/2018-->
<!--Modificado por: FelipeH -->
<!--Fecha de Modificacion: 12/03/2018><Cambio: Se agrega el campo dropzone y se hacen ajustes visuales -->
<!--Modificado por: GMR -->
<!--Fecha de Modificacion: 20/08/2019><Cambio: Se Modifico el LayOut del Form-->
<!--Modificado por: EEB -->
<!--Fecha de Modificacion: 22/08/2019><Cambio: Se Modifico la relacion jerarquica de Tipo Gasto - Tipo Pago-->
<!--Modificado por: GMR -->
<!--Fecha de Modificacion: 26/08/2019><Cambio: Se Se dejaron Visibles los botones Aceptar y Cancelar-->
<!--Modificado por: GMR -->
<!--Fecha de Modificacion: 26/08/2019><Cambio: Se Se dejaron Visibles los botones Aceptar y Cancelar-->
<!--Modificado por: EEB -->
<!--Fecha de Modificacion: 25/09/2019><Cambio: Se Modifico la relacion jerarquica de Tipo Gasto - Tipo Pago-->
<!--Modificado por: EEB -->
<!--Fecha de Modificacion: 16/10/2019><Cambio: Se Modifico la Matriz y el tg 600 es NP-->
<!--Modificado por: EEB -->
<!--Fecha de Modificacion: 06/11/2019><Cambio: Se Modifico la Matriz 300 - 308-->
<!--Modificado por: EEB -->
<!--Fecha de Modificacion: 28/11/2019><Cambio: Se Agregaron los Conceptos 136, 227 , 510-->
<!--Modificado por: EEB -->
<!--Fecha de Modificacion: 01/07/2022><Cambio: Traer Tasa de camio de OF-->
<!--Modificado por: EEB -->
<!--Fecha de Modificacion: 27/03/2023><Ingresar Importe Bruto -->



<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport"
        content=" width = [pixeles | ancho-dispositivo ], height = [pixeles | alto-dispositivo], initial-scale = float, minimum-scale = float, maximum-scale = float, user-scalable = [yes | no]">


</head>

<body>

    <form name="frmMain" id="frmMain" action="Ing_Fac.html">
        <input id="hdnRuleId" type="hidden" />
        <input id="hdnAsocId" type="hidden" />


        <center>
            <ul class=" nav nav-tabs">
                <li class="active"><a href="#FACTURA" data-toggle="tab">INGRESO FACTURA</a></li>
                <li><a href="#Expediente" data-toggle="tab">Expediente</a></li>



            </ul>
            <div class="tab-content">

                <div class="tab-pane active" id="FACTURA">
                    <div class="form-group row"></div>
                    <div class="form-group row">
                        <div class="col-md-3">
                            <div class="input-group">

                                <!--CUIT-->
                                <span class="input-group-addon">CUIT:</span>
                                <input id="zamba_index_2" name="zamba_index_2" size="1"
                                    class="form-control autoSave solonums" />
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="submit" name="zamba_rule_11532774"
                                        id="zamba_rule_11532774" onclick="SetRuleId(this);">
                                        <img alt="" src="images/Lupa.png" height="15" width="15" />
                                    </button>
                                </span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="input-group">
                                <!--Nombre y Apellido-->
                                <span class="input-group-addon">Nombre y Apellido o Razón Social:</span>
                                <input id="zamba_index_105" name="zamba_index_105" size="1"
                                    class="form-control input-sm" disabled />
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="input-group">
                                <!--ID trámite-->
                                <span class="input-group-addon ">ID trámite:</span>
                                <input id="zamba_index_86" name="zamba_index_86" class="form-control input-sm "
                                    disabled />
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <!--Tipo-->
                        <div class="col-md-2">
                            <div class="input-group">
                                <span class="input-group-addon">Tipo:</span>
                                <select class="form-control input-sm" id="zamba_index_107"
                                    name="zamba_index_107"></select>
                            </div>
                        </div>
                        <!--Tipo Letra-->
                        <div class="col-md-2">
                            <div class="input-group">
                                <span class="input-group-addon">Letra:</span>
                                <select class="form-control input-sm" id="zamba_index_106"
                                    name="zamba_index_106"></select>
                            </div>
                        </div>

                        <div class="col-md-2">
                            <div class="input-group">
                                <span class="input-group-addon">Punto de Venta:</span>
                                <!--Sucursal-->
                                <input id="zamba_index_72" name="zamba_index_72"
                                    class="form-control ZZerosLeft solonums" maxlength="5" />
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="input-group">
                                <span class="input-group-addon">Nro Comprobante:</span>
                                <!--Comprobante-->
                                <input id="zamba_index_10" name="zamba_index_10"
                                    class="form-control ZZerosLeft solonums" maxlength="10" />
                            </div>
                        </div>

                        <div class="col-md-3">
                            <div class="input-group">
                                <!--Recepcion-->
                                <span class="input-group-addon">Recepción:</span>
                                <input id="zamba_index_4" name="zamba_index_4"
                                    class="form-control input-sm dateTimeToday" disabled />
                            </div>
                        </div>
                    </div>

                    <div class="form-group row">
                        <div class="col-md-3">
                            <div class="input-group">
                                <!--Fecha de Comprobante-->
                                <span class="input-group-addon">Fecha Comprobante:</span>
                                <input id="zamba_index_73" name="zamba_index_73" size="1"
                                    class="form-control input-sm dataType datepicker" autocomplete="off" />
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="input-group">
                                <!--Fecha Vto CAI-->
                                <span class="input-group-addon">Vto CAI/CAE:</span>
                                <input id="zamba_index_74" name="zamba_index_74" size="1"
                                    class="form-control input-sm dataType datepicker" autocomplete="off" />
                            </div>
                        </div>
                        <div class="col-xs-3" style="display: none;" EnableGroups="94">
                            <input name="zamba_rule_11550452" id="zamba_rule_11550452" onclick="SetRuleId(this);"
                                class="btn btn-primary" type="submit" value="Consultar OC">
                        </div>



                    </div>


                    <div class="col-md-3">
                        <div class="input-group">
                            <!--delegación-->
                            <span class="input-group-addon">Delegación:</span>
                            <select type="button" class="form-control input-sm" id="zamba_index_82"
                                name="zamba_index_82" size="1"></select>
                        </div>
                    </div>


                    <div class="form-group row">
                        <div class="col-xs-12 col-sm-2">
                            <div class="input-group">
                                <span class="input-group-addon">Moneda:</span>
                                <!-- Tipo moneda-->
                                <select class="btn btn-default form-control  " id="zamba_index_92"
                                    name="zamba_index_92"></select>

                            </div>
                        </div>

                        <div class="col-xs-12 col-sm-3" id="DivImporteOtraMoneda1">
                            <div class="input-group">
                                <span class="input-group-addon">Importe Neto:</span>
                                <input id="zamba_index_11535222" name="zamba_index_11535222" min="0" step="any"
                                    data-number-to-fixed="2" data-number-stepfactor="100" class="form-control"
                                    maxlength="15" />

                                <span id="importeError"></span>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-2" id="DivImporteOtraMoneda2">
                            <div class="input-group">
                                <span class="input-group-addon">Tasa Cambio:</span>
                                <input id="zamba_index_11535223" name="zamba_index_11535223" min="0" step="any"
                                    data-number-to-fixed="2" data-number-stepfactor="100" class="form-control"
                                    maxlength="6" disabled />
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-3">
                            <div class="input-group">
                                <span class="input-group-addon">Importe Neto Pesos:</span>

                                <input id="zamba_index_109" name="zamba_index_109" min="0" step="any"
                                    data-number-to-fixed="2" data-number-stepfactor="100" class="form-control"
                                    maxlength="15" />

                            </div>
                        </div>

                        <!--Mi Pyme-->
                        <div class="col-sm-1 col-sm-offset-1">
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" id="zamba_index_11525201"
                                    name="zamba_index_11525201" style="height: 25px; width: 20px; " />
                                <span><b>MiPyme</b></span>
                            </div>
                        </div>



										<!-- Importe Bruto   -->	
                    

	                    <div class="col-xs-12 col-sm-3">
                            <div class="input-group">
                                <span class="input-group-addon">Ingrese Importe Bruto:</span>

                                <input id="zamba_index_11535296" name="zamba_index_11535296" min="0" step="any"
                                    data-number-to-fixed="2" data-number-stepfactor="100" class="form-control"
                                    maxlength="15" />
                            </div>
                        </div>

					</div>
					
                    <div class="form-group row">

                        <div class="col-md-4">
                            <div class="input-group">
                                <!--Tipo de Gasto-->
                                <span class="input-group-addon">Tipo de Gasto:</span>
                                <select id="zamba_index_110" name="zamba_index_110"
                                    onblur="SelectTipoGasto(); setRule();" class="form-control input-sm"></select>
                            </div>
                        </div>
                        <div id="AreaRecupero">
                            <div class="col-md-3">
                                <div class="input-group">
                                    <!--Orden Nro de Compra-->
                                    <span class="input-group-addon">Orden de Compra Nro:</span>
                                    <input id="zamba_index_50" name="zamba_index_50" size="1"
                                        class="form-control input-sm solonums"
                                        style="padding-left: 0px;padding-right: 0px;padding-top: 0px;" />
                                    <span class="input-group-btn">
                                        <button class="btn btn-default" type="submit" name="zamba_rule_11550452"
                                            id="zamba_rule_11550452" onclick="SetRuleId(this);">
                                            <img alt="" src="images/Lupa.png" height="15" width="15" />
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-5">
                            <div class="input-group">
                                <!--Concepto-->
                                <span class="input-group-addon">Concepto</span>
                                <select id="zamba_index_2725" name="zamba_index_2725" size="1"
                                    class="form-control"></select>
                            </div>
                        </div>


                    </div>


                    <div class="form-group row">



                        <div class="col-sm-5  ">
                            <div class="input-group">
                                <!--Sector=GrupoZamba-->
                                <span class="input-group-addon">Sector:</span>
                                <select id="zamba_index_126" name="zamba_index_126" size="1"
                                    class="form-control input-sm"></select>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="input-group">
                                <!--Solicitante=Destinatario-->
                                <span class="input-group-addon">Solicitante</span>
                                <select id="zamba_index_53" name="zamba_index_53" size="1"
                                    class="form-control input-sm"></select>
                            </div>
                        </div>



                    </div>



                    <div class="form-group row">
                        <div class="col-xs-12 col-md-6 ">
                            <div class="row">
                                <!--Area texto Observacion-->
                                <div id="appObservaciones" ng-controller="ObservacionController">
                                    <zamba-observaciones index-id="84" entity-id="26"></zamba-observaciones>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-6">
                            <div class="">
                                <span style=" font-style: italic;">
                                    Agregue aquí el archivo de Factura que esta
                                    ingresando
                                </span>
                            </div>
                            <div class="row">
                                <div class="col-xs-12" style="  width: 92%;">
                                    <div>
                                        <div ng-controller="appController">
                                            <zamba-drop id="0"> </zamba-drop>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--Botones FORM-->
                    <div class="form-group row">

                        <div class="col-xs-2">
                            <button name="zamba_rule_11532841" id="zamba_rule_11532841" onclick="SetRuleId(this);"
							onclick="ValidarTasadecambio(this)" class="btn btn-primary"
                                class="btn btn-warning" type="submit" value="Enviar">Enviar</button>
                        </div>
                        <div class="col-xs-2">
                            <button name="zamba_rule_11549777" id="zamba_rule_11549777" onclick="SetRuleId(this);"
                                class="btn btn-warning" type="submit" value="Cancelar">Cancelar</button>
                        </div>
                        <div class="col-xs-3">
                            <input name="zamba_rule_11531653" id="zamba_rule_11531653" onclick="SetRuleId(this);"
                                class="btn btn-success" type="submit" value="Regresar Factura para Conformar"
                                style="display: none">
                            <input name="zamba_rule_11550590" id="zamba_rule_11550590" onclick="SetRuleId(this);"
                                class="btn btn-success" style="display: none" type="submit" value="test">
                        </div>


                    </div>


                    <div class="form-group row">
                        <div class="col-md-12 iframeClassPDF" id="iframeStyle">
                            <div class="row" style="height:100%">
                                <iframe id="previewDocSearch" class="IframeClass" style="margin-top:30px"
                                    src="../../NGTemplates/PDFViewer/viewer.html"></iframe>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="tab-pane" id="Expediente">
                    <div class="form-group row"></div>
                    <div class="form-group row">
                        <div id="file1" ng-controller="ZambaAssociatedController">
                            <zamba-associated entities="113" default-enable-mode="grid" table-height="400"
                                grid-title="Expediente">
                            </zamba-associated>
                        </div>
                    </div>
                    <div class="form-group row">
                        <span style=" font-style: italic;">Agregue aquí los archivos anexos a la Factura</span>
                    </div>
                    <div class="form-group row">
                        <div class="col-md-12">
                            <div class="row">
                                <div class="col-xs-12" style="    width: 97%;">
                                    <!--DropZone-->
                                    <!--IMPORTANTE!!!! Si se cambia el id del drozone cambiar el id en el script de abajo-->
                                    <div id="appblankID2" ng-controller="appController">
                                        <zamba-drop id="113" IndexIds="189"> </zamba-drop>
                                    </div>
                                    <script>
                                        setTimeout(
                                            function () {
                                                $("#dZFUpload113").removeAttr("style");
                                            }, 3000);

                                        /**/</script>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="row">
                <center>
                    <div class="col-md-12">
                        <span style="color:whitesmoke">Ing_Fac.html</span>
                    </div>
                </center>
            </div>
            <!--IMPORTANTE  cambiar version al modificar formulario-->
            <div class="row">
                <div class="col-md-12">
                    <span class="colorVersion"> V. 1.1.2 </span>
                </div>
            </div>
        </center>


        <script src="../../app/DoShowTablePro/DoShowTableController.js?v=175"></script>
        <script src="../../app/DoShowTablePro/DoShowTableServices.js?v=175"></script>
        <script src="FacturasyPagos.js?v=200"></script>

        <script>
            $(document).ready(function () {




                RemoveNonFacItems();


                $('select[name="zamba_index_2725"]').find('option:contains("A definir")').remove()
            });


            function ValidarTasadecambio(e) {

                var valido = false;
                if ($("#zamba_index_92").val() == "EUR" || $("#zamba_index_92").val() == "USD") {

                    if ($("#zamba_index_11535222").val() == "") {
                        valido = false;
                        swal("error", "Tenes que completar Importe", "error");
                        return;
                    } else if ($("#zamba_index_11535223").val() != "") {
                        valido = true;

                    } else {
                        valido = false;
                        swal("error", "Tenes que completar  Tipo de Cambio", "error");
                        return;
                    }


                    if (valido == true && $("#zamba_index_11535223").val() == "") {
                        valido = false;
                        swal("error", "Tenes que completar  Tasa de Cambio", "error");
                        return;
                    } else if ($("#zamba_index_11535222").val() != "") {
                        valido = true;
                    } else {
                        valido = false;
                        swal("error", "Tenes que completar Importe", "error");
                        return;
                    }



                    //Valido Fecha Comprobante No este vacia
                    if ($('#zamba_index_73').val() == '') {
                        swal("error", "Fecha Comprobante No puede estar vacia", "error");

                        valido = false;
                        return;

                    }
                    else {
                        valido = true;

                    }

                    //Valido Fecha vewncimiento No este vacia
                    if ($('#zamba_index_74').val() == '') {
                        swal("error", "Fecha Vto CAI No puede estar vacia", "error");

                        valido = false;
                        return;

                    }
                    else {
                        valido = true;

                    }



                } else {
                    valido = true;

                }

                if (valido == true) {
                    SetRuleId(e);

                    $($("form")[0]).submit();

                }
                return valido;

            }

            function setInputSeparator(id) {
                if ($("#" + id).val() == 'NaN' || $("#" + id).val() == '') {
                    $("#" + id).val('');
                }
                else if ($("#" + id).val() != '' || $("#" + id).val() != undefined || $("#" + id).val() != 'NaN') {

                    var indexValue = parseFloat($("#" + id).val().replace('.', '').replace('.', '').replace('.', '').replace(',', '.'));
                    $("#" + id).val(String(parseFloat(indexValue).toFixed(2)).replace('.', ',').replace(/\B(?=(\d{3})+(?!\d)\.?)/g, "."));
                }
            }


        </script>






    </form>

</body>

</html>