<!DOCTYPE HTML>
<html>
<!--Autor:Stardoc-->
<!--Fecha Creacion: 11.2018-->
<!--Ultima Edicion: 19.10.2022 -->
<!--Modificado por: GR se Modificó el Entity de Observaciones dado que era incorrecto -->
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <script type="text/javascript" language="JavaScript">
        function SetRuleId(sender) {
            document.getElementById("hdnRuleId").name = sender.id;
            frmMain.submit();
        }

        function SetAsocId(sender) {
            document.getElementById("hdnAsocId").name = sender.id;
            frmMain.submit();
        }

        //function ZFUNCTION() {
        //    var Historial = document.getElementById("zamba_Index_1148").value
        //    while (Historial.indexOf(" ", 0) != -1) {
        //        Historial = Historial.replace(" ", "\n");
        //    }
        //    document.getElementById("zamba_Index_1148").value = Historial;
        //}

        function ReloadParentPage() {
            opener.location.reload();

            setTimeout(function () {
                window.close();
            }, 1000);            
        }

        function prev(sender, path) {
            var iframe = document.getElementById("zamba_innerdoctype_variable");
            path = "file:///" + path;
            path = path.replace(".msg", ".html");

            if (iframe) {
                iframe.setAttribute('src', path);
            }
            else {
                alert("Se produjo un error al cargar la previsualizacion");
            }
        }
    </script>

    <style type="text/css">



        #navbarNavDropdown {
            list-style: none;
        }

        .containerGrid {
            width: auto;
            overflow-x: auto;
            overflow-y: auto;
            height: auto;
        }

        #zamba_innerdoctype_original {
            height: 500px;
            width: 98%;
        }

        .buttonSelectionUl {
            list-style-type: none;
            margin: 2%;
        }

        ul.buttonSelectionUl > li input {
            font-size: 10px;
        }

        .center {
            margin: auto;
            width: 80%;
            padding: 10px;
        }

        .centerLastInput {
            margin-left: 30%;
            width: 80%;
            padding: 10px;
        }

        /*input:disabled {
            color: #090A0A;
            font-weight: bold;
        }*/

        .formTabs {
            font-size: 15px;
        }

        .maginBetweenInputs {
            padding-top: 10px;
        }

        .marginlabel2 {
            position: relative;
            left: 100px;
        }

        .BTS1 {
            position: relative;
            top: -25px;
        }

        .BTS2 {
            position: relative;
            left: -70px;
            position: relative;
            top: -10px;
        }

        .marginlabel1 {
            position: relative;
            top: -50px;
        }

        .Grillaposition1 {
            position: relative;
            top: 45px;
        }

        .BTS3 {
            position: relative;
            left: 100px;
            position: relative;
            top: 25px;
        }

        .Grillaposition2 {
            position: relative;
            top: -10px;
        }

        .Visualizador1 {
            position: relative;
            top: 20px;
        }

        .textArea1 {
            height: 70px;
        }

        .strong {
            font-weight: 900
        }

        .smoke {
            background-color: #e5e5e5
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <form name="frmMain" action="PretOfer.html">
            <div>
			
				<div class="form-group row"></div>
                <input id="hdnRuleId" type="hidden" />
				<hr style="border: 0 ; border-top: 3px double blue; width: 100%;">
				
				<center>
					<div id="tblOferta" cellspacing="2" cellpadding="1" border="0">
					
						<div class="form-group row">
							<div class="col-lg-2"></div>
							<div class="col-lg-4 col-md-6 col-sm-6 col-xs-6">
								<div class="input-group">
									<span class="input-group-addon" style="">ID Reclamo:</span>
									<input class="form-control input-sm" id="zamba_index_2677" name="zamba_index_2677" style=" color: #090A0A; font-weight: bold" disabled="disabled" />
								</div>
							</div>
							<div class="col-lg-4 col-md-6 col-sm-6 col-xs-6">
								<div class="input-group">
									<span class="input-group-addon" style="">Fecha:</span>
									<input class="form-control input-sm" id="zamba_index_2720" name="zamba_index_2720" style=" color: #090A0A; font-weight: bold" disabled="disabled" />
								</div>
							</div>
						</div>
						
						<div class="form-group row">
							<div class="col-lg-2"></div>
							<div class="col-lg-4 col-md-6 col-sm-6 col-xs-6">
								<div class="input-group">
									<span class="input-group-addon" style="">Capital $:</span>
									<input class="form-control input-sm moneda ZDecimal" id="zamba_index_2744" name="zamba_index_2744" style=" color: #090A0A; font-weight: bold" />
								</div>
							</div>
							<div class="col-lg-4 col-md-6 col-sm-6 col-xs-6">
								<div class="input-group">
									<span class="input-group-addon" style="">Honorarios $:</span>
									<input class="form-control input-sm moneda ZDecimal" id="zamba_index_2746" name="zamba_index_2746" style=" color: #090A0A; font-weight: bold" />
								</div>
							</div>
						</div>
						
						<div class="form-group row">
							<div class="col-lg-2"></div>
							<div class="col-lg-4 col-md-6 col-sm-6 col-xs-6">
								<div class="input-group">
									<span class="input-group-addon" style="">Otros $:</span>
									<input class="form-control input-sm moneda ZDecimal" id="zamba_index_2745" name="zamba_index_2745" style=" color: #090A0A; font-weight: bold" />
								</div>
							</div>
							<div class="col-lg-4 col-md-6 col-sm-6 col-xs-6">
								<div class="input-group">
									<span class="input-group-addon" style="">Total $:</span>
									<input class="form-control input-sm ZDecimal" id="zamba_index_2719" name="zamba_index_2719" readonly="readonly" style=" color: #090A0A; font-weight: bold" />
								</div>
							</div>
						</div>
						
						<div class="form-group row">
							<div class="col-lg-2"></div>
							<div class="col-lg-4 col-md-6 col-sm-6 col-xs-6">
								<div class="input-group">
									<span class="input-group-addon" style="">Cantidad de días:</span>
									<input class="form-control input-sm solonums" id="zamba_index_2835" name="zamba_index_2835" style=" color: #090A0A; font-weight: bold" />
								</div>
							</div>
							<div class="col-lg-4 col-md-6 col-sm-6 col-xs-6">
								<div class="input-group">
									<span class="input-group-addon" style="">% Honorarios:</span>
									<input class="form-control input-sm moneda" id="zamba_index_2836" name="zamba_index_2836" style=" color: #090A0A; font-weight: bold" />
								</div>
							</div>
						</div>
					</div>
				</center>
	<!--------------------------------------------------------------------------------------------------------------------------------------------------->									
				<div class="form-group row"></div>
				<div class="col-lg-2"></div>
				<div class="form-group row" style="margin-bottom: 40px;">
					<div class="col-lg-8 col-md-8 col-sm-8 col-xs-12 style="position:relative;top:-20px">
						<div class="row">
							<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
							<span class="input-group-addon" style=""> Observaciones:</span>
								<!--Area texto Observacion-->
								<div id="appObservaciones" ng-controller="ObservacionController">
									<zamba-observaciones index-id="64" entity-id="2529"></zamba-observaciones>
								</div>
							</div>
						</div>
					</div>
				</div> 					
<!--------------------------------------------------------------------------------------------------------------------------------------------------->									
				<div class="form-group row">
					<center>
						<input class="btn  btn-primary btn-md" id="zamba_save" name="zamba_save" type="submit" value="Guardar" onclick="zamba_save_onclick();">
					</center>
				</div>               
				
				<div class="form-group row"> </div>
				<center>					
					<span style="color:white">PretOfer.html</span>					
				</center>           
             
			</div>
        </form>
    </div>
	
<!--------------------------------------------------------------------------------------------------------------------------------------------------->		
    <script type="text/javascript" language="JavaScript">

        $(document).ready(function () {		
            $(".solonums").each(function () {
                $(this).keypress(function (e) {
                    return IntegerCheck(e);
                })
            });
            $(".moneda").each(function () {
                $(this).keyup(function (e) {
                    if (DecimalCheck($('#' + e.target.id))) {
                        SumarCampos();
                    }
                })
            });
            $(".sololectura").each(
                function () {
                    $(this).keypress(function (e) {
                        return false;
                    })
                }
            );
        });
        function SumarCampos() {

            var cap = parseFloat($("#zamba_index_2744").val().replace('', '0'));
            var hon = parseFloat($("#zamba_index_2746").val().replace('', '0'));
            var otr = parseFloat($("#zamba_index_2745").val().replace('', '0'));
            var por = parseFloat($("#zamba_index_2836").val().replace('', '0'));

            //Verifica que se deba ajustar al porcentaje de honorarios
            if (document.getElementById("zamba_index_2836").value != "" && por > 0) {
                //Si el porcentaje es invalido lo setea a cero
                if (por > 100) {
                    hon = 0;
                    $("#zamba_index_2836").val();
                    $("#zamba_index_2746").val();
                } else {
                    hon = (por * cap) / 100;
                    hon = Redondear(hon);
                    $("#zamba_index_2746").val(hon);
                }
            }

            //Suma los valores obtenidos y lo asigna al indice Total
            $("#zamba_index_2719").val(Redondear(cap + hon + otr));
        }
    function zamba_save_onclick() {
            if (document.getElementById("zamba_index_2719").value == "" || document.getElementById("zamba_index_2719").value <= "0") {
                alert("Verifique que el Importe sea mayor que cero.");
                document.getElementById("hdnRuleId").name = "zamba_rule_cancel";
            } else if ($('input[type=text]').hasClass('error')) {
                alert("Verifique que todos los datos de los campos sean válidos");
                document.getElementById("hdnRuleId").name = "zamba_rule_cancel";
            } else {
                alert("Se guardo exitosamente.");
                document.getElementById("hdnRuleId").name = "zamba_rule_save";
                frmMain.submit();
            }
        }
    </script>
</body>
</html>
