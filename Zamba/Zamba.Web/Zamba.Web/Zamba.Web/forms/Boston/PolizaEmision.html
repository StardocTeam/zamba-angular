<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="PolizaEmision.css" type="text/css" />
    <style type="text/css">
        input
        {
            font-size: xx-small;
        }
        p.description
        {
            font-size: x-small;
            width: 104px;
            height: 15px;
        }
        .style11
        {
            width: 202px;
        }
        .style13
        {
            height: 23px;
            width: 113px;
        }
        .style15
        {
            width: 157px;
        }
        .style16
        {
            height: 23px;
            width: 361px;
        }
        .style17
        {
            width: 361px;
        }
        #zamba_innerdoctype_original
        {
            width: 98%;
        }
        .style24
        {
            height: 53px;
        }
        .style25
        {
            height: 23px;
            width: 314px;
        }
        body
        {
            font-size: 13px;
        }
        .style27
        {
            height: 10px;
            width: 570px;
        }
        .style28
        {
            width: 537px;
        }
        .style29
        {
            width: 91px;
        }
        .style30
        {
            width: 92px;
        }
        .style31
        {
            width: 102px;
        }
        .style32
        {
            width: 105px;
        }
        .style33
        {
            height: 23px;
            width: 200px;
        }
        .style34
        {
            width: 103px;
        }
        .style35
        {
            width: 101px;
        }
    </style>
     

    <script src="jquery-1.3.2.min.js" type="text/javascript" language="JavaScript"></script>

    

    <script type="text/javascript" language="JavaScript">
        function SetRuleId(sender)
        {
            document.getElementById("hdnRuleId").name = sender.id;               
            frmMain.submit();
        }
            
        function ValidarSeccion(sender)
        {
            document.getElementById("hdnRuleId").name = "";
            
            if (document.getElementById("zamba_index_32").value == "4 - AUTOMOTORES" && document.getElementById("zamba_index_5").value == 1)
                if (document.getElementById("zamba_index_39").value=="")
                {
                    document.getElementById("hdnRuleId").name = "zamba_rule_cancel";
                    alert("Por favor, complete la patente del vehículo");
                }
            
            if (document.getElementById("zamba_index_3").value=="" && document.getElementById("hdnRuleId").name !="zamba_rule_cancel")
            {
                document.getElementById("hdnRuleId").name = "zamba_rule_cancel";
                alert("Por favor, complete el nombre del asegurado");
            }
            
            if (document.getElementById("zamba_index_1127").value=="" && document.getElementById("zamba_index_1128").value=="" && document.getElementById("hdnRuleId").name !="zamba_rule_cancel")
            {
                document.getElementById("hdnRuleId").name = "zamba_rule_cancel";
                alert("Por favor, complete el DNI o el CUIT del asegurado");
            }
            
            if ((document.getElementById("zamba_index_4").value=="" || document.getElementById("zamba_index_4").value=="0") && (document.getElementById("zamba_index_1139").value=="" || document.getElementById("zamba_index_1139").value=="0") && document.getElementById("hdnRuleId").name !="zamba_rule_cancel")
            {
                document.getElementById("hdnRuleId").name = "zamba_rule_cancel";
                alert("Por favor, complete el código de productor, CUIT o seleccionelo con el botón Buscar");
            }
            
            if ((document.getElementById("zamba_index_5").value=="" || document.getElementById("zamba_index_5").value<"1") && document.getElementById("hdnRuleId").name !="zamba_rule_cancel")
            {
                document.getElementById("hdnRuleId").name = "zamba_rule_cancel";
                alert("Por favor, complete la cantidad de items");
            }
            
            if (document.getElementById("zamba_index_29").value=="" && document.getElementById("hdnRuleId").name !="zamba_rule_cancel")
            {
                document.getElementById("hdnRuleId").name = "zamba_rule_cancel";
                alert("Por favor, complete la fecha de vigencia de la póliza");
            }
        }
        
        function CerrarForm()
        {
            document.getElementById("hdnRuleId").name = "zamba_rule_cancel";
        }
        
        function CargarFechasyBotones() 
        {
            if (document.getElementById("zamba_index_5").value=="" || document.getElementById("zamba_index_5").value=="0")
            {
                document.getElementById("zamba_index_5").value="1";
            }
            
		   		
        }
        
        function esDigito(sChr)
        {
            var sCod = sChr.charCodeAt(0);
            return ((sCod > 47) && (sCod < 58));
        }

        function valSep(oTxt)
        {
            var bOk = false;
            bOk = bOk || ((oTxt.value.charAt(2) == "-") && (oTxt.value.charAt(5) == "-"));
            bOk = bOk || ((oTxt.value.charAt(2) == "/") && (oTxt.value.charAt(5) == "/"));
            return bOk;
        }

        function finMes(oTxt)
        {
            var nMes = parseInt(oTxt.value.substr(3, 2), 10);
            var nRes = 0;
            switch (nMes)
            {
                case 1: nRes = 31; break;
                case 2: nRes = 29; break;
                case 3: nRes = 31; break;
                case 4: nRes = 30; break;
                case 5: nRes = 31; break;
                case 6: nRes = 30; break;
                case 7: nRes = 31; break;
                case 8: nRes = 31; break;
                case 9: nRes = 30; break;
                case 10: nRes = 31; break;
                case 11: nRes = 30; break;
                case 12: nRes = 31; break;
            }
            return nRes;
        }

        function valDia(oTxt)
        {
            var bOk = false;
            var nDia = parseInt(oTxt.value.substr(0, 2), 10);
            bOk = bOk || ((nDia >= 1) && (nDia <= finMes(oTxt)));
            return bOk;
        }

        function valMes(oTxt)
        {
            var bOk = false;
            var nMes = parseInt(oTxt.value.substr(3, 2), 10);
            bOk = bOk || ((nMes >= 1) && (nMes <= 12));
            return bOk;
        }

        function valAno(oTxt)
        {
            var bOk = true;
            var nAno = oTxt.value.substr(6);
            bOk = bOk && ((nAno.length == 2) || (nAno.length == 4));
            if (bOk)
            {
                for (var i = 0; i < nAno.length; i++)
                {
                    bOk = bOk && esDigito(nAno.charAt(i));
                }
            }
            return bOk;
        }

        function valFecha(oTxt)
        {
            var bOk = true;
            if (oTxt.value != "")
            {
                bOk = bOk && (valAno(oTxt));
                bOk = bOk && (valMes(oTxt));
                bOk = bOk && (valDia(oTxt));
                bOk = bOk && (valSep(oTxt));
                if (!bOk)
                {
                    alert("La fecha ingresada es invalida");
                    oTxt.value = "";
                    oTxt.focus();
                }
            }
        }
 
        function comprobarSiBisisesto(anio)
        {
            if ( ( anio % 100 != 0) && ((anio % 4 == 0) || (anio % 400 == 0))) 
            {
                return true;
            }
            else 
            {
                return false;
            }
        }

        function zamba_save_onclick() 
        {
            ValidarSeccion();
            if (document.getElementById("zamba_index_58").value=="" && document.getElementById("hdnRuleId").name !="zamba_rule_cancel")
            {
                document.getElementById("hdnRuleId").name = "zamba_rule_cancel";
                alert("Por favor, verifique el nro de productor antes de continuar");
            }
            if (document.getElementById("hdnRuleId").name !="zamba_rule_cancel")
            {
                document.getElementById("hdnRuleId").name = "";
            }
        }

        function reload_onclick() 
        {
            ValidarSeccion();
            if (document.getElementById("hdnRuleId").name !="zamba_rule_cancel")
            {
                document.getElementById("hdnRuleId").name = "zamba_rule_save";
            }
        }
        
        function reload()
        {
            frmMain.submit();
	    }
	    // Validar de valores solo numericos
	    // Agregar class="solonum" a todos los inputs que se quieran validar
	    $(document).ready(function()
	    {
		    $(".solonums").each(function()
		    {
			    $(this).keypress(function (e)
			    {
				    if( e.which!=8 && e.which!=0 && (e.which<48 || e.which>57))
				    {
					    return false;
				    }
			    })
		    });
	    });

    </script>

</head>
<body onload="javascript:CargarFechasyBotones();" onunload="javascript:CerrarForm();">
    <form name="frmMain" action="PolizaEmision.html">
    <input id="hdnRuleId" type="hidden" />
    <input id="zamba_index_32" style="width: 100px" name="zamba_index_32" type="hidden" />
    <table style="width: 100%;">
        <tr>
            <td style="width: 100%; color: white; background-color: #0066cc">
                Solicitud de Emision de Poliza
            </td>
        </tr>
    </table>
    <hr />
    <table style="width: 100%;">
        <tr>
            <td class="style30">
                <p class="description">
                    Asegurado:
                </p>
            </td>
            <td class="style28">
                <input id="Text1" style="width: 536px" name="zamba_index_3" />
            </td>
            <td></td>
            <td class="style29">
                <p class="description">
                    Vigencia Desde:
                </p>
            </td>
            <td>
                <input id="zamba_index_29" style="width: 135px; margin-left: 0px;" 
                    name="zamba_index_29" onblur="valFecha(this)" /></td>
        </tr>
    </table>
    <hr />
    <table style="width: 100%;">
        <tr>
            <td class="style32">
                <p class="description">
                    DNI Asegurado:                 </p>
            </td>
            <td class="style11">
                <input id="Text2" style="width: 203px" name="zamba_index_1127" 
                    class="solonums" />
            </td>
            <td></td>
            <td class="style35">
                <p class="description">
                    CUIT Asegurado:
                </p>
            </td>
            
            <td>
                <input id="Text3" style="width: 220px" name="zamba_index_1128" 
                    class="solonums" />
            </td>
        </tr>
</table><hr/><table>
        <tr>
         <td class="style13">
                <p class="description">
                    Codigo Productor:
                </p>
            </td>
            <td class="style25">
                <input id="zamba_index_4" style="width: 261px" name="zamba_index_4" 
                    class="solonums" />
            </td>
            <td class="style15">
                <p class="description">
                    CUIT Productor:
                </p>
            </td>
            <td class="style17">
                <input id="zamba_index_1139" style="width: 172px" name="zamba_index_1139" 
                    class="solonums" />
                <input id="zamba_rule_5019" name="zamba_rule_5019"
                    style="text-align: center;" type="submit" value="..." onclick="SetRuleId(this);"/>
            </td>
         </tr>
         <tr>
          <td class="style15">
                <p class="description">
                    Nombre Productor:
                </p>
            </td>
            <td class="style16">
                <input id="zamba_index_58" name="zamba_index_58" style="width: 203px" 
                    readonly="readonly" disabled="disabled" />
            
            
            <input id="zamba_rule_5035" name="zamba_rule_5035"
                    style="text-align: center;" type="submit" value="Verificar" onclick="SetRuleId(this);"/>
                    </td>
         </tr>
    </table>
    <hr />
    <table style="width: 100%;">
        <tr>
            <td class="style31">
                <p class="description">
                    Cantidad de Items:
                </p>
            </td>
            <td class="style33">
                <input id="zamba_index_5" style="width: 203px" name="zamba_index_5" class="solonums" />
            </td>
            
            <td class="style34">
                <p class="description">
                    Patente:
                </p>
            </td>
            <td>
                <input id="zamba_index_39" style="width: 220px" name="zamba_index_39" />
            </td>
        </tr>
    </table>
    <hr />
    <table style="width: 100%;">
        <tr>
            <td align="right" class="style27">
                <input id="zamba_save" style="font-weight: bold; text-align: center; margin-right: 100px;"
                    type="submit" value="Guardar" name="zamba_save" onclick="return zamba_save_onclick()" />
            </td>
            <td>
            </td>
            <td class="style24" style="height: 10px">
                <input id="zamba_cancel" style="font-weight: bold; margin-left: 100px;" type="submit"
                    value="Cancelar" name="zamba_cancel" />
            </td>
        </tr>
    </table>
    <center style="z-index: -1">
        <iframe id="zamba_innerdoctype_original" align="middle" height="1024px" title="Documento Original"
            src=""></iframe>
    </center>
    </form>
</body>
</html>
