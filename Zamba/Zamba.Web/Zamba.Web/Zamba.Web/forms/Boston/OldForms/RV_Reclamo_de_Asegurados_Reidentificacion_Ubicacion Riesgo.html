	<html>
	<head>
		<title>Reclamo del Asegurado - Ingreso de Denuncia</title>	
		
		<!--
		ID Form:
		Fecha de Creacion:19-10-2012
		Autor de Creacion:GustavoR
		Modificacion:Tomando como base el Form Reclamo de Asegurados Reidentificacion se quito el area informacion del asegurado. 
		Se Agregaron las solapas: Identificacion por Asegurado con los Atributos Apellido, Nombre, Tipo de Doc, Nro Doc y CUIT
		                          Identificacion por Ubicacion del Riesgo con los atributos Ubicacion, Nro de Domicilio, Codigo Postal
		                          Identificacion por embarcacion con el Atributo Matricula Rey
		Ademmas en el header del form se agrego el atributo Sector                        
		Fecha de ultima Modificacion:19-10-2012
		Autor de ultima Modificacion:GustavoR
		-->				
				
		<link rel="stylesheet" href="Union_styles.css" type="text/css" />
    <link rel="stylesheet" href="Union_styles_table.css" type="text/css" />
    <link rel="stylesheet" href="jq_datepicker.css" type="text/css" />	
	<link rel="stylesheet" type="text/css" href="images/UI_blue/DroplistFilter.css" />
    <link rel="stylesheet" href="tabber.css" type="text/css" media="screen"/>
	<script type="text/javascript" src="Scripts/jquery-1.11.1.min.js"></script>	
	<script type="text/javascript" src="jquery-1.3.2.min.js" language="JavaScript"></script>
	<script type="text/javascript" src="jq_datepicker.js" language="JavaScript"></script>
    <script type="text/javascript" src="DroplistFilter.js"></script>
    <script type="text/javascript" src="ChequearIndicePorValorErroneo.js"></script>
    <script type="text/javascript" src="Scripts/json2.js"></script>	
	<script type="text/javascript" src="Scripts/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="Scripts/Zamba.js"></script>
    <script type="text/javascript" src="Scripts/Zamba.Tables.js"></script>
	<script type="text/javascript" src="tabber.js"></script>

		<script src="Reclamo de Asegurados Ingreso.js" type="text/javascript" language="JavaScript"></script>
		

        <script type="text/javascript" src="Scripts/ScriptLUnionGeneral.js"></script>
		

		<script type="text/javascript" language="JavaScript">	
       	    function SetRuleId(sender)
       		{
				document.getElementById("hdnRuleId").name = sender.id;               
				document.getElementById('zamba_index_26410').value = document.getElementById('_26410').value.replace(":", "");									
            	
				if(validaDatos())
					frmMain.submit();
			}

			function zamba_save_onclick()
			{
				document.getElementById('zamba_index_26410').value = document.getElementById('_26410').value.replace(":", "");
				document.getElementById("hdnRuleId").name = "zamba_rule_save";
			}
				 
			function makeCalendar(id)
			{
				$(function() 
				{
					$('#' + id).datepicker({
						changeMonth: true,
						changeYear: true,
						showOn: 'button', 
						buttonText: 'Abrir calendario',
						buttonImage: 'images/calendar.png', 
						buttonImageOnly: true,
						duration: ""
					});
				});
			}
			
			$(document).ready(function()
			{	
				makeCalendar('zamba_index_26201');
				makeCalendar('zamba_ASOC_26031_index_26280');
				makeCalendar('zamba_ASOC_26031_index_26281');			
				setTimeout("$('#_26410').val($('#zamba_index_26410').val());", 50);	
				setTimeout("formatTime('_26410')", 100);
				addDroplistFilter("zamba_index_26478");	
	        });

            $(window).load(function () {
                HighlightJudgment();
            });
			
			function loadTime(id)
			{
				document.getElementById(id).value = document.getElementById("zamba_index" + id).value.replace(":", "");
			}			
			
			function formatTime(id)
			{
				var ctrl = $('#' + id);						
				var timeaux = ctrl.val().replace(":", "");
				var time = "", n, i = 0;
				
				while (i < timeaux.length)
				{
					n = timeaux.substring(i, i + 1);
					i = i + 1;
		
					if(n.charCodeAt(0) >= 48 && n.charCodeAt(0) <= 57)  
						time = time + n;
				}
				
				var h = time.substring(0, time.length - 2);					
				var m = time.substring(time.length - 2, time.length);
				
				if (h != "" || m != "")
					ctrl.val(h + ":" + m);
				else
					ctrl.val('');
					
				if (h > 23 || m > 59)
					ctrl.addClass("error");
				else
					ctrl.removeClass("error");
			}	
			
			function dateToString(date)
			{
				var dia = date.split("/")[0];
				var mes = date.split("/")[1];
				var ano = date.split("/")[2];

				dia = format(dia);
				mes = format(mes);
				
				return ano + mes + dia;			
			}
			
			function format(txt)
			{
				if(txt.length == 1) txt = "0" + txt;
				
				return txt;
			}
				
			
			function validaDatos()
			{		

				if ($('#zamba_index_26201').val() == '')
				{
					alert("Ingrese la fecha del siniestro");
					$('#zamba_index_26201').focus();
					return false;
				}
				if ($('#_26410').val() == '')
				{
					alert("Ingrese la hora del siniestro");
					$('#_26410').focus();
					return false;
				}
				if ($('#zamba_index_26174').val() == '')
				{
					alert("Ingrese Nro de Poliza");
        	        $('#zamba_index_26174').focus();
                	return false;
				}
									
				var currentTime = new Date();
				var date_user = dateToString(document.getElementById('zamba_index_26201').value);	
				var date_actual = dateToString(currentTime.getDate() + "/" + (currentTime.getMonth() + 1) + "/" + currentTime.getFullYear());

				if(parseInt(date_user) > parseInt(date_actual))
				{
					alert("La fecha de Siniestro debe ser menor o igual a la fecha de hoy.");
					$('#zamba_index_26201').focus();
					return false;
				}
				if($('#zamba_index_26478').val() == '0 - Sin Definir')
				{
					alert("Debe seleccionar un responsable.");
					$('#zamba_index_26478').focus();
					return false;
				}
	            if($('#_26410').attr('class') == 'error')
                {
   		            alert("La hora del siniestro es invalida");
        	        $('#_26410').focus();
                	return false;
                } 

				var validateOk = true;
				
				if ($('#zamba_index_26400').val() == '' && $('#zamba_index_26248').val() == '' && $('#zamba_index_26296').val() == '')
					validateOk = ValidateLocation();
					
				return validateOk;
			}

			//valido ubicacion de riesgo
			function ValidateLocation()
			{
				if ($('#zamba_index_135513').val() == '')
				{
					alert("Debe completar al menos una seccion:\n- Identificacion por Asegurado\n- Ubicacion del Riesgo");
					return false;									
				}
				return true;
			}	
				
			document.write('<style type="text/css">.tabber{display:none;}<\/style>');			
		</script>
	    <style type="text/css">
            .style1
            {
                width: 155px;
            }
            .style2
            {
                width: 142px;
            }
            .style3
            {
                width: 137px;
            }
            .style4
            {
                width: 41px;
            }
            .style5
            {
                width: 112px;
            }
            .style6
            {
                width: 107px;
            }
            .style7
            {
                width: 70px;
            }
            .style8
            {
                width: 71px;
            }
        </style>
	</head>	
	<body>
						<div>
				<input id="zamba_rule_26472" style=" text-align: center; margin-right: 25px;"
            type="submit" class="submit" value="Reidenticar al Reclamo" name="zamba_rule_26472" onclick="SetRuleId(this);"/>
			</div>
						<br />
		<div id="container">
			<form name="frmMain" method="post" action="frmMain" onsubmit="return validaDatos()">
				<input id="hdnRuleId" type="hidden" />
				
				<div name="logostardoc" id="logostardoc">
				</div>

				<div name="design" id="design">
					<strong>Reclamo de Asegurado - Ingreso de Denuncia</strong>
				</div>
				<br />
				<table cellpadding="4">
				
				<tr>
						<td><label>Sector: </label></td>
						<td><input type="text" id="Text7" name="zamba_index_135512" size="10" readonly="true" class="readonly"/></td>
						</td>
					</tr>
					<tr>
						<td><label>Id: </label></td>
						<td><input type="text" id="zamba_index_26260" name="zamba_index_26260" size="10" readonly="true" class="readonly"/></td>
						<td colspan="2"><label>Id Operaci&oacuten Siniestro: </label></td>
						<td class="style7"><input type="text" id="zamba_index_26261" name="zamba_index_26260" size="10" readonly="true" class="readonly"/></td>
						<td><label>Nro de Siniestro:</label></td>
						<td class="style5"><input type="text" name="zamba_index_26247" size="12" readonly="true" class="readonly"/></td>
						<td class="style6"><input type="submit" name="zamba_save" id="zamba_save" value="GUARDAR" onclick="return zamba_save_onclick()"/> </td>
				</div>
			</tr>	
				</table>

				<div class="tabber">
					<div class="tabbertab">
						<h2>Informaci&oacuten</h2>
						<p>
							<table cellpadding="4">
								<tr>
									<td><label>Nro Reclamo:</label></td>
									<td class="style1"><input type="text" name="zamba_index_26178" size="10" readonly="true" class="readonly"/></td>
									<td><label>Nro P&oacuteliza:</label></td>
									<td class="style2"><input type="text" name="zamba_index_26174" id="zamba_index_26174"  size="10" /></td>
								</tr>
								<tr>
									<td><label>Fecha Siniestro: </label></td>
									<td><input id="zamba_index_26201" name="zamba_index_26201" style="width:170px;" /></td>
									<td><label>Hora Siniestro: </label></td>
									<td class="style2">
										<input id="_26410" name="_26410" style="width:170px;" maxlength="5" onkeyup="formatTime('_26410');" class="solonums"/>
										<input type="text"  id="zamba_index_26410" name="zamba_index_26410" style="display:none"/>
									</td>
								</tr>	
								<tr>	
									<td><label>Rama: </label></td>
									<td class="style1">
                                        <select name="zamba_index_26294" id="zamba_index_26294" 
                                            style="width:255px;"></select></td>
									<td><label>Fecha Notificaci&oacuten Siniestro: </label></td>
									<td class="style2">
                                        <input id="zamba_index_26427" name="zamba_index_26427" 
                                            style="width:157px;" /></td>									
								</tr>
									<tr>	
									<td><label>Responsable: </label></td>
									<td><select name="zamba_index_26478" id="zamba_index_26478" style="width:255px;"></select></td>
									<td><label>Estado Reclamo: </label></td>
									<td><input id="zamba_index_26313" name="zamba_index_26313" style="width:169px;" 
                                            readonly="true" class="readonly"/></td>
								</tr>									
								</tr>
								<tr>
									<td style="padding:10px 0 10px 0" colspan="4">
									<hr>
									</td>
								</tr>
							</table>
							<table cellpadding="4">
															<tr>
									<td class="style3"><label>Obervaciones:</label></td></tr>
								<tr>
									<td colspan="4" class="style3"><TEXTAREA COLS=124 ROWS=10 id="TEXTAREA1" 
                                            name="zamba_index_64"></TEXTAREA></td> 
								</tr>
						</table>	
						</p>
                    </div>

<div class="tabbertab">
					<h2>Resumen</h2>
                   <button class="primary" id="zamba_rule_361842"   onclick="SetRuleId(this);" >Ingresar Novedad</button>

      		<table id="ReqTable" class="zAjaxTable tablesorter" source="zFillSelect(exec ZSP_WF_100_Novedades_Reclamos @Id|@Id)" filterfield="zamba_index_26260" showcolumns=" " editablecolumns="" editablecolumnsattributes="" additionalvalidationbutton="" postajaxfuncion="" entityId="doc_type_id" documentId="doc_id">
                    <tbody></tbody>
                    </table>
				</div>

							<div class="tabbertab">
								<h2>Identificaci&oacuten por Asegurado</h2>
							<p>
							<table cellpadding="4">
							<tr>
								<td>
								<font face="Tahoma" size="2"> <u>Identificaci&oacuten por Asegurado </u></font> 
								</td>
						    </tr>
							</table>
							<table cellpadding="4">
								<tr><td>&nbsp;</td></tr>
									<tr>
									<td><label>Apellido:</label></td>
									<td><input type="text" name="zamba_index_26400" id="zamba_index_26400" size="30" /></td>
									<td><label>Nombre:</label></td>
									<td><input type="text" name="zamba_index_26399" id="zamba_index_26399" size="30"></td>
								</tr>
								<tr>
									<td><label>Tipo Doc: </label></td>
									<td><select name="zamba_index_26236" id="zamba_index_26236" style="width:90px;"></select></td>
									<td><label>Nro. Doc: </label></td>
									<td><input type="text" name="zamba_index_26248" id="zamba_index_26248" size="20"></td>
								</tr>
								<tr>
									<td><label>CUIT: </label></td>
									<td><input type="text" name="zamba_index_26296" id="zamba_index_26296" size="20"></td>
								</tr>
							</table>
							</p>
							</div>
							
								<div class="tabbertab">
								<h2>Identificaci&oacuten por Ubicaci&oacuten del riesgo</h2>
							<p>
							<table cellpadding="4">
							<tr>
								<td>
								<font face="Tahoma" size="2"> <u>Identificaci&oacuten por Ubicaci&oacuten del riesgo </u></font> 
								</td>
						    </tr>
							</table>
							<table cellpadding="4">
								<tr><td>&nbsp;</td></tr>
									<tr>
									<td><label>Ubicaci&oacuten:</label></td>
									<td><input type="text" name="zamba_index_135513" id="zamba_index_135513" size="30" /></td>
									<td><label>Nro Domicilio:</label></td>
									<td><input type="text" name="zamba_index_135514" id="zamba_index_135514" size="30"></td>
								</tr>
								
								<tr>
									<td><label>C&oacutedigo Postal: </label></td>
									<td><input type="text" name="zamba_index_22685" id="Text4" size="20"></td>
								</tr>
							</table>
							</p>
							</div>							
							</div>
						
					<div name="logoUnion" id="logoUnion">	
					<img src="//srvflow2/ZambaVolumenes/Produccion/templates/images/Union.jpg" align="left" height=50 width=70>
				</div>
				
				<div name="logozamba" id="logozamba">
					<img src="images/pwbyzamba.jpg">
				</div>					

				
			</form>						
		</div>
	</body>
</html>