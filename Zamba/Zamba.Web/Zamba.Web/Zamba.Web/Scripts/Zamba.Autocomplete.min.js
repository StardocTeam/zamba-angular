(function () { jQuery.fn.zAutocomplete = function () { $(this).each(function () { var source = $(this).attr("source"); var displayMember = $(this).attr("displayMember"); var valueMember = $(this).attr("valueMember"); var additionalFilters = $(this).attr("additionalFilters"); var controlId = this.id; var wsAdditionalParams; if (source != "" && source != null && displayMember != "" && displayMember != null && valueMember != "" && valueMember != null) { ShowLoadingAnimation(); $(this).autocomplete({ source: function (request, response) { $.ajax({ type: "POST", url: thisDomain + "/Views/WF/TaskViewer.aspx/GetAutoCompleteOptions", contentType: "application/json; charset=utf-8", dataType: "json", data: "{ " + "query: '" + request.term + "'," + "dataSource: '" + source + "'," + "displayMember: '" + displayMember + "'," + "valueMember: '" + valueMember + "'," + "additionalFilters: " + ((additionalFilters == null || additionalFilters == '') ? "''" : "'" + GetPipedSeparateValues(additionalFilters.split('|'))) + "'" + " }", success: function (data) { response($.map(data.d, function (item) { return { label: item.Key, value: item.Value } })); hideLoading() }, error: function (request, status, err) { alert("Error al obtener el contenido de autocompletar. \r" + request.responseText) } }) }, minLength: 3, delayType: 100, appendTo: "#aspnetForm" }) } }) } })()